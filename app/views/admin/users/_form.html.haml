
= simple_nested_form_for resource, url: controller.controller_namespace + [resource] do |f|
  %fieldset.inputs.card-body
    .row
      .col-md-6
        = f.input :avatar, version: :medium
      .col-md-6
        .row
          .col-md-6= f.input :first_name
          .col-md-6= f.input :last_name

        - if !resource.persisted? || resource == current_user
          .row
            .col-md-6= f.input :password, required: params[:action] == 'new'
            .col-md-6= f.input :password_confirmation, required: params[:action] == 'new'

        = f.input :email

        - if current_user.admin?
          = f.input :role

        = render_partial_for_user 'form_extra_fields', locals: {form: f}

  = default_actions
